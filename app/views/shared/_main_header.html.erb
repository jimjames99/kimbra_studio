<% selected = '' if selected.nil? %>
<div id="header_wrapper">
  <div class="container logged-in" id="header">

    <div id='login_display'>
      <% if user_signed_in? %>
          <strong><%= current_user.try(:email) %></strong>
          <br/>
          <%= link_to "Edit account", edit_user_registration_path %>
          <span>(<%= link_to translate(:not_you), destroy_user_session_path, method: :delete %>)</span>
          <%= coffee_script_tag do %>
            $ ->
              olark('api.chat.updateVisitorNickname',
                snippet:'<%= current_user.name %>, <%= current_user.studio.try(:name) %>')
          <% end %>
      <% else %>
          <strong><%= link_to translate(:sign_in), new_user_session_path %></strong>
          <!--
          or
          <span><%= link_to translate(:sign_up), new_user_registration_path %></span>
          -->
          or <span><%= link_to translate(:sign_up), signup_about_path %></span>
      <% end %>
    </div>

    <% display_h1 = t(:company_brand) %>
    <% if user_signed_in? %>
        <% if is_admin? %>
            <% display_h1 = t(:admin_overview_title) %>
        <% else %>
            <% display_h1 = @my_studio.try(:name) || 'KimbraClickPLUS' %>
        <% end %>
    <% end %>

    <h1 class='logo' style='text-align:left;'> <%= link_to display_h1, root_path %> </h1>

    <div id='main_nav'>
      <% if is_admin? %>
          <div class='menu_item'>
            <%= link_to_button t(:admin_menu_overview), admin_overview_url, selected == 'admin/overviews' %>
          </div>
          <div class='menu_item'>
            <%= link_to_button t(:admin_menu_emails), admin_customer_emails_path, selected == 'admin/customer/emails' %>
          </div>
          <div class='menu_item'>
            <%= link_to_button t(:admin_menu_studios), studios_path, selected == 'studios' %>
          </div>
          <div class='menu_item'>
            <%= link_to_button t(:admin_menu_users), users_path, selected == 'users' %>
          </div>
          <div class='menu_item'>
            <%= link_to_button t(:admin_menu_merchandise), admin_merchandise_pieces_path, selected == 'admin/merchandise/pieces' %>
          </div>
          <div class='menu_item'>
            <%= link_to_button t(:my_studio_info_label_samples), samples_my_studio_infos_path, selected == 'my_studio/infos/samples' %>
          </div>
          <div class='menu_item_right'>
            <%= link_to_button t(:admin_menu_stories), admin_stories_path, selected == 'admin/stories' %>
          </div>
          <div class='menu_item'>
            <%= link_to_button t(:my_studio_info_label_faq), faq_my_studio_infos_path, selected == 'my_studio/infos/faqs' %>
          </div>
      <% else %>
          <% if current_user and !current_user.client? %>
              <div class='menu_item'>
                <%= link_to_button t(:my_studio_overview_link), my_studio_dashboard_path, selected == 'my_studio/dashboards' %>
              </div>
              <div class='menu_item'>
                <%= link_to_button t(:my_studio_overview_label_session), my_studio_sessions_path, selected == 'my_studio/sessions' %>
              </div>
              <div class='menu_item'>
                <%= link_to_button t(:my_studio_info_label_samples), samples_my_studio_infos_path, selected == 'my_studio/infos/samples' %>
              </div>
              <div class='menu_item'>
                <%= link_to_button t(:my_studio_minisite_label), my_studio_minisite_path(@my_studio), selected == 'my_studio/infos/samples' %>
              </div>
              <div class='menu_item'>
                <%= link_to_button t(:my_studio_info_label_faq), faq_my_studio_infos_path, selected == 'my_studio/infos/faqs' %>
              </div>
              <!-- remove for now until we have studios with staff
              <div class='menu_item'>
                <%# link_to_button t(:my_studio_overview_label_staff, :action => 'View '), my_studio_staffers_path, false %>
              </div>
              <div class='menu_item'>
                <%# link_to_button t(:my_studio_overview_label_info, :action => 'View '), user_path(current_user), false %>
              </div>
              <% unless current_user.studio.nil? %>
                  <div class='menu_item'>
                    <%# link_to_button t(:my_studio_overview_label_studio, :action => 'View '), studio_path(current_user.studio, false) %>
                  </div>
              <% end %>
              -->
          <% else %>
              <div class='menu_item'>
                <%= t(:company_brand) %>
              </div>
          <% end %>
      <% end %>

    </div>
  </div>
</div>