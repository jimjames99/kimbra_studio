<% if is_client? %>

    <% field = attrs.keys.first %>
    <% value = attrs.values.first %>
    <% shopping_item = Shopping::Item.new(attrs.merge(cart: @cart)) %>

    <%= form_for(shopping_item, remote: true) do |f| %>

        <%= f.hidden_field field %>
        <%= f.hidden_field :cart_id %>
        <%= f.button_spinner t('.add_cart.name'),
                             id:         value,
                             title:      t('.add_cart.title'),
                             class:      'btn-small btn-primary',
                             icon_class: "icon-plus-sign icon-white" %>
    <% end %>
<% else %>
    <%= button_icon_to t('.add_cart.name'),
                       '#',
                       title:      t('.add_cart.title'),
                       method:     :get, title: t(".add_cart.title"),
                       class:      'disabled',
                       button_class: 'btn btn-small btn-primary disabled',
                       icon_class: "icon-plus-sign icon-white" %>
<% end %>
